<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shelter</title>
    <link href="https://img.icons8.com/external-justicon-flat-justicon/64/000000/external-dog-dog-and-cat-justicon-flat-justicon-10.png"
          rel="icon">
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" rel="stylesheet">
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"
          rel="stylesheet">
    <link href="/css/perfil.css" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect">
    <link href="/css/verClave.css" rel="stylesheet"/>
</head>
<body id="body-pd">
<div class="container-fluid">
    <div class="row">

        <!----------------------------------------------Navbar--------------------------------------------------------->
        <header class="header" id="header">
            <div class="header_toggle"><i class='bx bx-menu' id="header-toggle"></i></div>
            <div class="col-lg-8 col-md-7 col-sm-5"></div>
            <div class="col-lg-4 col-md-5 col-sm-7"></div>
        </header>
        <div class="l-navbar" id="nav-bar">
            <nav class="nav">
                <div><a class="nav_logo" href="#"> <img
                        id="logo"
                        src="https://img.icons8.com/external-justicon-flat-justicon/64/000000/external-dog-dog-and-cat-justicon-flat-justicon-10.png"/>
                    <span class="nav_logo-name">Cats&Dogs</span> </a>

                    <div class="nav_list">
                            <span th:if="${session.adoptante != null}">
                                <a class="nav_link" th:href="@{/indexAdoptante}">
                                    <i class='bx bx-home-alt-2 nav_icon'></i>
                                    <span class="nav_name">Inicio</span>
                                </a>
                                <a class="nav_link" th:href="@{/publicacion/likes}">
                                    <i class='bx bx-heart nav_icon'></i>
                                    <span class="nav_name">Likes</span>
                                </a>
                            </span>

                        <span th:if="${session.protectora != null}">
                                <a class="nav_link" th:href="@{/indexProtectora}">
                                    <i class='bx bx-home-alt-2 nav_icon'></i>
                                    <span class="nav_name">Inicio</span>
                                </a>

                                <a class="nav_link" href="#">
                                    <i class='bi bi-camera-fill nav_icon'></i>
                                    <span class="nav_name">Subir Publicacion</span>
                                </a>
                                <a class="nav_link" th:href="@{/darDeAlta}">
                                    <i class='bi bi-plus-circle-fill nav_icon'></i>
                                    <span class="nav_name">Dar de alta</span>
                                </a>
                            </span>
                        <div id="div_ul-dropdown">
                            <a class="nav_link" href="#">
                                <i class="bi bi-gear nav_icon" id="engranaje_ul-dropdown"></i>
                                <span class="nav_name" id="ajustes_ul-dropdown">Ajustes <i
                                        class="bi bi-caret-down flechaAbajo"></i> </span>
                            </a>

                            <ul data-status="show" id="ul-dropdown">
                                <li><small><a class="aa" th:href="@{/perfil/datos}"> <i
                                        class="bi bi-person-fill"> &nbsp; </i> Perfil</a></small></li>
                                <li><small><a class="aa" th:href="@{/registro/ccontrasena}"> <i
                                        class="bi bi-lock-fill"> &nbsp; </i> Cambiar clave</a></small></li>
                            </ul>
                        </div>

                        <div id="div_media">
                            <a class="nav_link" href="#">
                                <i class="bi bi-gear nav_icon" id="engranaje_media"></i>
                                <span class="nav_name" id="ajustes_media">Ajustes <i
                                        class="bi bi-caret-down flechaAbajo"></i> </span>

                            </a>
                            <div class="media" data-status="show" id="media">
                                <a class="bb mt-3" th:href="@{/perfil/datos}">
                                    <i class="bi bi-person-fill"> &nbsp; </i>
                                </a>
                                <a class="bb mt-3" th:href="@{/registro/ccontrasena}">
                                    <i class="bi bi-lock-fill"></i>
                                </a>
                                <a class="bb mt-3" th:href="@{/perfil/suscripcion}">
                                    <i class="bi bi-currency-dollar"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12" id="anchoPX"></div>
                <a class="nav_link" th:href="@{/cerrarSesion}">
                    <i class='bx bx-log-out nav_icon'></i>
                    <span class="nav_name">Cerrar Sesion</span>
                </a>
                </span>
            </nav>
        </div>
        <!-------------------------------------------Navbar ends------------------------------------------------------->

        <!-------------------------------------------Perfil CContrasena----------------------------------------------->
        <div class="col-lg-8 col-md-12 col-sm-12">
            <div class="container card-container">
                <div class="card cardPerfil" id="card">
                    <div class="row">
                        <div class="col-md-4 d-flex justify-content-center color">
                            <div class="col-md-4 d-flex justify-content-center color">
                                <span th:if="${session.adoptante != null}">
                                    <img class="foto_cambiarContrasena"
                                         th:alt="${session.adoptante.foto_perfil}"
                                         th:src="@{'/uploads/adoptante/' + ${session.adoptante.email} + '/' + ${session.adoptante.foto_perfil}}">
                                </span>
                                <span th:if="${session.protectora != null}">
                                    <img class="foto_cambiarContrasena"
                                         th:alt="${session.protectora.logotipo_protectora}"
                                         th:src="@{'/uploads/protectora/' + ${session.protectora.CIF} + '/' + ${session.protectora.logotipo_protectora}}">
                                    </span>
                            </div>
                        </div>
                        <div class="col-md-8">
                            <div class="card-block">
                                <form method="post" th:action="@{/registro/ccontrasena}">
                                    <h1 class="card-title">Ajustes</h1>
                                    <div class="input-grupo">
                                        <div class="col-12 card-text input">
                                            <label>Contraseña antigua:</label>
                                            <div class="buttonIn">
                                                <input class="form-control inputviejo form-control-lg w-100 contrasena" data-status="show"
                                                       id="contrasenaAntigua"
                                                       name="contrasenaAntigua"
                                                       required
                                                       type="password"

                                                >
                                                <button class="mostrar" type="button"><i class="bi bi-eye ojo"></i></button>
                                            </div>
                                        </div>
                                        <div class="col-12 card-text input">
                                            <label>Nueva contraseña:</label>
                                            <div class="buttonIn">
                                                <input class="form-control input form-control-lg w-100 contrasena"
                                                       id="contrasenaNueva"
                                                       name="contrasenaNueva"
                                                       required
                                                       type="password"
                                                       data-status="pass"
                                                >
                                                <button class="mostrar" type="button"><i class="bi bi-eye ojo"></i></button>
                                            </div>
                                        </div>
                                        <div class="col-12 card-text input">
                                            <label> Repetir nueva contraseña: </label>
                                            <div class="buttonIn">
                                                <input class="form-control input form-control-lg w-100 contrasena"
                                                       id="repetirContrasenaNueva"
                                                       name="repetirContrasenaNueva"
                                                       required
                                                       type="password"
                                                       data-status="pass"
                                                >
                                                <button class="mostrar" type="button"><i class="bi bi-eye ojo"></i></button>
                                            </div>
                                        </div>
                                        <br>
                                        <input class="btn enviar" id="boton" type="submit" value="Editar">
                                    </div>
                                </form>
                                <br>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-------------------------------------------Perfil CContrasena Ends------------------------------------------>

        <!-------------------------------------------Acceso Ajustes---------------------------------------------------->
        <div class="col-lg-4 col-md-12 col-sm-12">
            <div class="container card-container ">
                <div class="card card">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card-block">
                                        <span th:if="${session.adoptante != null}">
                                            <span><h4 th:text="*{session.adoptante.nombre}"></h4></span>
                                        </span>
                                <span th:if="${session.protectora != null}">
                                            <span><h4
                                                    th:text="*{session.protectora.getForma_juridica() + ' ' + session.protectora.getNombre_protectora()}"></h4></span>
                                        </span>
                                <div class="caja-accesosAjustes">
                                    <div class="accesosAjustes"><a class="accesosAjustesLink"
                                                                   th:href="@{/perfil/datos}"><h5 class="aal">
                                        Perfil</h5></a></div>
                                    <div class="accesosAjustes"><a class="accesosAjustesLink"
                                                                   th:href="@{/registro/ccontrasena}"><h5 class="aal">
                                        Cambiar
                                        clave</h5></a></div>
                                    <span th:if="${session.protectora != null}">
                                                <div class="accesosAjustes"><a class="accesosAjustesLink"
                                                                               th:href="@{/perfil/suscripcion}"><h5
                                                        class="aal">Ingresos</h5></a></div>
                                            </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-------------------------------------------Acceso Ajustes Ends----------------------------------------------->
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="/js/navbar.js" th:src="@{/js/navbar.js}"></script>
<script src="/js/cambiarClave.js" th:src="@{/js/cambiarClave.js}"></script>
<script src="/js/cambiarContraseña.js" th:src="@{/js/cambiarContraseña.js}"></script>
<script src="/js/verClave.js" th:src="@{/js/verClave.js}"></script>
<script crossorigin="anonymous"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>