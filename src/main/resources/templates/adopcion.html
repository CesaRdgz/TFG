<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/html" xmlns:th="http://www.thymeleaf.org/">
<head>

    <script crossorigin="anonymous" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>


    <meta charset="UTF-8">
    <title>Shelter</title>
    <link href="https://img.icons8.com/external-justicon-flat-justicon/64/000000/external-dog-dog-and-cat-justicon-flat-justicon-10.png"
          rel="icon">
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" rel="stylesheet">
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"
          rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <link href="/css/index.css" rel="stylesheet"/>
    <link href="/css/adopcion.css" rel="stylesheet"/>
</head>
<body id="body-pd">
<div class="container-fluid">
    <div class="row">
        <!----------------------------------------------Navbar--------------------------------------------------------->
            <header class="header" id="header">
                <div class="header_toggle"><i class='bx bx-menu' id="header-toggle"></i></div>
                <div class="col-lg-8 col-md-7 col-sm-5"></div>
                <div class="col-lg-4 col-md-5 col-sm-7"></div>
            </header>
            <div class="l-navbar" id="nav-bar">
                <nav class="nav">
                    <div><a class="nav_logo" href="#"> <img
                            id="logo"
                            src="https://img.icons8.com/external-justicon-flat-justicon/64/000000/external-dog-dog-and-cat-justicon-flat-justicon-10.png"/>
                        <span class="nav_logo-name">Cats&Dogs</span> </a>
                        <div class="nav_list">
                            <a class="nav_link" th:href="@{/indexProtectora}">
                                <i class='bx bx-home-alt-2 nav_icon'></i>
                                <span class="nav_name">Inicio</span>
                            </a>
                            <a class="nav_link" th:href="@{/publicacion/subirPublicacion}">
                                <i class='bi bi-camera-fill nav_icon'></i>
                                <span class="nav_name">Subir Publicacion</span>
                            </a>
                            <a class="nav_link" th:href="@{/darDeAlta/}">
                                <i class='bi bi-plus-circle-fill nav_icon'></i>
                                <span class="nav_name">Dar de alta</span>
                            </a>
                            <div id="div_ul-dropdown">
                                <a class="nav_link" href="#">
                                    <i class="bi bi-gear nav_icon" id="engranaje_ul-dropdown"></i>
                                    <span class="nav_name" id="ajustes_ul-dropdown">Ajustes <i
                                            class="bi bi-caret-down flechaAbajo"></i> </span>
                                </a>

                                <ul data-status="show" id="ul-dropdown">
                                    <li><small><a class="aa" th:href="@{/perfil/datos}"> <i
                                            class="bi bi-person-fill"> &nbsp; </i> Perfil</a></small></li>
                                    <li><small><a class="aa" th:href="@{/registro/ccontrasena}"> <i
                                            class="bi bi-lock-fill"> &nbsp; </i> Cambiar clave</a></small></li>
                                    <li><small><a class="aa" th:href="@{/perfil/suscripcion}"> <i
                                            class="bi bi-currency-dollar">&nbsp;</i> Suscripci√≥n</a></small></li>
                                </ul>
                            </div>

                            <div id="div_media">
                                <a class="nav_link" href="#">
                                    <i class="bi bi-gear nav_icon" id="engranaje_media"></i>
                                    <span class="nav_name" id="ajustes_media">Ajustes <i
                                            class="bi bi-caret-down flechaAbajo"></i> </span>

                                </a>
                                <div class="media" data-status="show" id="mediaProtectora">
                                    <a class="bb mt-3" th:href="@{/perfil/datos}">
                                        <i class="bi bi-person-fill"> &nbsp; </i>
                                    </a>
                                    <a class="bb mt-3" th:href="@{/registro/ccontrasena}">
                                        <i class="bi bi-lock-fill"></i>
                                    </a>
                                    <a class="bb mt-3" th:href="@{/perfil/suscripcion}">
                                        <i class="bi bi-currency-dollar"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <span>
                                    <a class="nav_link" th:href="@{/cerrarSesion}">
                                        <i class='bx bx-log-out nav_icon'></i>
                                        <span class="nav_name">Cerrar Sesion</span>
                                    </a>
                                </span>
                </nav>
            </div>
        <!-------------------------------------------Navbar ends------------------------------------------------------->
    </div>
    <form method="post" th:action="@{/adopcion/busquedaAdoptante}">
        <div class="row mt-3">
            <div class="col-10"><input class="form-control searchInput" id="searchInput" name="searchInput"/></div>
            <div class="col-2"><input class="form-control botonBuscar" type="submit" value="Buscar"/></div>
        </div>
    </form>

    <span th:if="${session.animal.tipo == 'Perro'}">
        <div class="row mt-3 row_texto">
            <h3>Han adoptado a <span th:text="${session.animal.nombre}"></span>? Genial! Busca al adoptante e iniciaremos los tramites</h3></div>
        <div class="row mt-3">
            <div class="col-6">
                <div class="row">
                    <div class="col-6 mt-3"><img class="foto_animal justify-content-sm-center align-content-sm-center align-items-sm-center"
                                            th:alt="${session.animal.getFoto()}"
                                            th:src="@{'/uploads/perros/' + ${session.animal.getFoto()}}"></div>
                    <div class="col-6 mt-3">
                        <label>Nombre:</label>&nbsp;<span th:text="${session.animal.nombre}"></span>
                        <br>
                        <label>Edad:</label>&nbsp;<span th:text="${session.animal.edad}"></span>
                        <br>
                        <label>Raza:</label>&nbsp;<span th:text="${session.animal.raza}"></span>
                        <br>
                        <label>Castrado:</label>&nbsp;<span th:text="${session.animal.castrado}"></span>
                        <br>
                        <label>Genero:</label>&nbsp;<span th:text="${session.animal.genero}"></span>
                    </div>
                </div>
            </div>
            <div class="v-line"></div>
            <div class="col-6" th:if="${session.adoptante == 'null'}">
                <div class="row">
                    <div class="col-5 mt-3">
                        <label>Nombre:</label>&nbsp;<span></span>
                        <br>
                        <label>Apellidos:</label>&nbsp;<span ></span>
                        <br>
                        <label>DNI:</label>&nbsp;<span ></span>
                        <br>
                        <label>Email:</label>&nbsp;<span ></span>
                    </div>
                    <div class="col-6 mt-3">
                        <div class="container-fluid" th:id="caja-textoTitulo">
                            <h1 th:id="textoTitulo">Selecciona un adoptante</h1>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-6" th:if="${session.adoptante != 'null'}">
                <div class="row">
                    <div class="col-6 mt-3">
                        <label>Nombre:</label>&nbsp;<span th:text="${session.adoptante.nombre}"></span>
                        <br>
                        <label>Apellidos:</label>&nbsp;<span th:text="${session.adoptante.apellidos}"></span>
                        <br>
                        <label>DNI:</label>&nbsp;<span th:text="${session.adoptante.DNI}"></span>
                        <br>
                        <label>Email:</label>&nbsp;<span th:text="${session.adoptante.email}"></span>
                    </div>
                    <div class="col-6 mt-3">
                        <img class="foto_perfil justify-content-sm-center align-content-sm-center align-items-sm-center"
                             th:alt="${session.adoptante.foto_perfil}"
                             th:src="@{'/uploads/adoptante/' + ${session.adoptante.email} + '/' + ${session.adoptante.foto_perfil}}">
                    </div>
                </div>
            </div>
        </div>
    </span>

    <span th:if="${session.animal.tipo == 'Gato'}">
        <div class="row mt-3 row_texto">
            <h3>Han adoptado a <span th:text="${session.animal.nombre}"></span>? Genial! Busca al adoptante e iniciaremos los tramites</h3>
        </div>
        <div class="row mt-3">
            <div class="col-6">
                <div class="row">
                    <div class="col-6 mt-3"><img class="foto_animal justify-content-sm-center align-content-sm-center align-items-sm-center"
                                                 th:alt="${session.animal.getFoto()}"
                                                 th:src="@{'/uploads/gatos/' + ${session.animal.getFoto()}}"></div>
                    <div class="col-6 mt-3">
                        <label>Nombre:</label>&nbsp;<span th:text="${session.animal.nombre}"></span>
                        <br>
                        <label>Edad:</label>&nbsp;<span th:text="${session.animal.edad}"></span>
                        <br>
                        <label>Raza:</label>&nbsp;<span th:text="${session.animal.raza}"></span>
                        <br>
                        <label>Castrado:</label>&nbsp;<span th:text="${session.animal.castrado}"></span>
                        <br>
                        <label>Genero:</label>&nbsp;<span th:text="${session.animal.genero}"></span>
                    </div>
                </div>
            </div>
            <div class="v-line"></div>
            <div class="col-6" th:if="${session.adoptante == 'null'}">
                <div class="row">
                    <div class="col-5 mt-3">
                        <label>Nombre:</label>&nbsp;<span></span>
                        <br>
                        <label>Apellidos:</label>&nbsp;<span ></span>
                        <br>
                        <label>DNI:</label>&nbsp;<span ></span>
                        <br>
                        <label>Email:</label>&nbsp;<span ></span>
                    </div>
                    <div class="col-6 mt-3">
                        <div class="container-fluid" th:id="caja-textoTitulo">
                            <h1 th:id="textoTitulo">Selecciona un adoptante</h1>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-6" th:if="${session.adoptante != 'null'}">
                <div class="row">
                    <div class="col-6 mt-3">
                        <label>Nombre:</label>&nbsp;<span th:text="${session.adoptante.nombre}"></span>
                        <br>
                        <label>Apellidos:</label>&nbsp;<span th:text="${session.adoptante.apellidos}"></span>
                        <br>
                        <label>DNI:</label>&nbsp;<span th:text="${session.adoptante.DNI}"></span>
                        <br>
                        <label>Email:</label>&nbsp;<span th:text="${session.adoptante.email}"></span>
                    </div>
                    <div class="col-6 mt-3">
                        <img class="foto_perfil justify-content-sm-center align-content-sm-center align-items-sm-center"
                             th:alt="${session.adoptante.foto_perfil}"
                             th:src="@{'/uploads/adoptante/' + ${session.adoptante.email} + '/' + ${session.adoptante.foto_perfil}}">
                    </div>
                </div>
            </div>
        </div>
    </span>
    <div class="row">
        <div class="col-12">
            <form method="post" th:action="@{/adopcion/adoptar}">
                <input type="submit" class="form-control botonBuscar1" value="Adoptar!"/>
            </form>
        </div>
    </div>
</div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous"
        integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30="
        src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script crossorigin="anonymous"
        integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30="
        src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="/js/navbar.js" th:src="@{/js/navbar.js}"></script>
<script src="/js/buscarAdoptante.js" th:src="@{/js/buscarAdoptante.js}"></script>
</html>