<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org/">
<head>
    <meta charset="UTF-8">
    <title>Shelter</title>
    <link href="https://img.icons8.com/external-justicon-flat-justicon/64/000000/external-dog-dog-and-cat-justicon-flat-justicon-10.png"
          rel="icon">
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" rel="stylesheet">
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"
          rel="stylesheet">
    <link href="/css/index.css" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <link href="/css/indexProtectora.css" rel="stylesheet"/>

</head>
<body id="body-pd">
<div class="container-fluid">
    <div class="row">
        <header class="header" id="header">
            <div class="header_toggle"><i class='bx bx-menu' id="header-toggle"></i></div>
            <div class="col-lg-8 col-md-7 col-sm-5"></div>
            <div class="col-lg-4 col-md-5 col-sm-7">
                <form method="POST" th:action="@{/buscar/perfil}" >
                    <div class="input-group container buscador align-content-between">
                        <input class="form-control col buscador" id="buscador" name="buscador" placeholder="@..." type="text">
                        <span class="input-group-btn">
                            <button class="btn ms-3" id="lupa" type="submit">
                                <i class='bx bx-search-alt-2'></i>
                            </button>
                        </span>
                    </div>
                </form>
            </div>
        </header>
        <div class="l-navbar" id="nav-bar">
            <nav class="nav">
                <div><a class="nav_logo" href="#"> <img
                        id="logo"
                        src="https://img.icons8.com/external-justicon-flat-justicon/64/000000/external-dog-dog-and-cat-justicon-flat-justicon-10.png"/>
                    <span class="nav_logo-name">Cats&Dogs</span> </a>
                    <div class="nav_list">
                        <a class="nav_link" th:href="@{/indexAdoptante}">
                            <i class='bx bx-home-alt-2 nav_icon'></i>
                            <span class="nav_name">Inicio</span>
                        </a>
                        <a class="nav_link" th:href="@{/publicacion/likes}">
                            <i class='bx bx-heart nav_icon'></i>
                            <span class="nav_name">Likes</span>
                        </a>
                        <a class="nav_link" th:href="@{/publicacion/siguiendo}">
                            <i class="bi bi-person-lines-fill nav_icon"></i>
                            <span class="nav_name">Siguiendo</span>
                        </a>
                        <div id="div_ul-dropdown">
                            <a class="nav_link" href="#">
                                <i class="bi bi-gear nav_icon" id="engranaje_ul-dropdown"></i>
                                <span class="nav_name" id="ajustes_ul-dropdown">Ajustes <i
                                        class="bi bi-caret-down flechaAbajo"></i> </span>
                            </a>

                            <ul data-status="show" id="ul-dropdown">
                                <li><small><a class="aa" th:href="@{/perfil/datos}"> <i
                                        class="bi bi-person-fill"> &nbsp; </i> Perfil</a></small></li>
                                <li><small><a class="aa" th:href="@{/registro/ccontrasena}"> <i
                                        class="bi bi-lock-fill"> &nbsp; </i> Cambiar clave</a></small></li>
                            </ul>
                        </div>

                        <div id="div_media">
                            <a class="nav_link" href="#">
                                <i class="bi bi-gear nav_icon" id="engranaje_media"></i>
                                <span class="nav_name" id="ajustes_media">Ajustes <i
                                        class="bi bi-caret-down flechaAbajo"></i> </span>

                            </a>
                            <div class="media" data-status="show" id="media">
                                <a class="bb mt-3" th:href="@{/perfil/datos}">
                                    <i class="bi bi-person-fill"> &nbsp; </i>
                                </a>
                                <a class="bb mt-3" th:href="@{/registro/ccontrasena}">
                                    <i class="bi bi-lock-fill"></i>
                                </a>
                                <a class="bb mt-3" th:href="@{/perfil/suscripcion}">
                                    <i class="bi bi-currency-dollar"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12" id="anchoPX"></div>
                <span>
                        <a class="nav_link" th:href="@{/cerrarSesion}">
                            <i class='bx bx-log-out nav_icon'></i>
                            <span class="nav_name">Cerrar Sesion</span>
                        </a>
                    </span>
            </nav>
        </div>
        <div class="container-fluid">
            <div class="desplegable"></div>
            <div class="row">
                <div class="col-9">
                    <div class="card card-pers">
                        <img class="foto_perfil"
                             th:alt="${session.protectora.logotipo_protectora}"
                             th:src="@{'/uploads/protectora/' + ${session.protectora.CIF} + '/' + ${session.protectora.logotipo_protectora}}">

                        <th:block th:if="${session.sigue == false}">
                            <a th:href="@{/protectora/seguir/{id}(id=${session.protectora.id})}">
                                <div class="circulo"><i class="bi bi-person-plus"></i></div>
                            </a>
                        </th:block>
                        <th:block th:if="${session.sigue == true}">
                            <a th:href="@{/protectora/noseguir/{id}(id=${session.protectora.id})}">
                                <div class="circulo"><i class="bi bi-person-dash-fill"></i></div>
                            </a>
                        </th:block>

                        <strong><h1
                                id="titulo"
                                th:text="${'@'+session.protectora.getForma_juridica() + session.protectora.getNombre_protectora() }"></h1>
                        </strong>
                        <div class="row row_iconos">
                            <div class="col-4"><i class="bi bi-heart"></i>&nbsp;<span
                                    th:text="${session.numeroLikes}"></span></div>
                            <div class="col-4"><i class="bi bi-person-circle"></i>&nbsp;<span
                                    th:text="${session.numeroSeguidores}"></span></div>
                            <div class="col-4"><i class="bi bi-newspaper"></i>&nbsp;<span
                                    th:text="${session.numeroPublicaciones}"></span></div>
                        </div>
                    </div>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <div class="contenedor-tabs">
                    <div class="tabs">
                        <input checked="checked" id="tabone" name="tabs" type="radio">
                        <label class="tabalign" for="tabone">Por adoptar</label>
                        <div class="tab">
                            <div class="row row_foreach">
                                <span class="col-12" th:each="publicacion:${session.publicacionesNoAdoptados}">
                                    <div hidden th:class="${publicacion.getId()}">
                                        <div class="card card-publicacion-col12">
                                            <span class="row">
                                                <div class="col-5">
                                                    <img class="foto_publicacion-col-12"
                                                         th:alt="${session.protectora.logotipo_protectora}"
                                                         th:src="@{'/uploads/publicaciones/' + ${session.protectora.CIF} + '/' + ${publicacion.getFoto()}}">
                                                </div>
                                                <div class="col-7">
                                                    <h3 class="nombre-col12"
                                                        th:text="${publicacion.animal.getNombre()}"></h3>
                                                    <a href="#">
                                                        <img class="foto_perfil-publicacion"
                                                             th:alt="${session.protectora.logotipo_protectora}"
                                                             th:src="@{'/uploads/protectora/' + ${session.protectora.CIF} + '/' + ${session.protectora.logotipo_protectora}}">
                                                                </a>
                                                                <hr class="hr">
                                                                <p class="pieDeFoto_col12"
                                                                   th:text="${publicacion.getPie_foto()}">
                                                                </p>
                                                                <a th:href="@{/publicacion/like/{id}(id=${publicacion.id})}"><i
                                                                        class="bi bi-heart bi-heartt"
                                                                        data-status=""></i></a>
                                                        </div>

                                                </span>
                                            </div>
                                        </div>
                                    </span>

                                <span class="col-4" th:each="publicacion:${session.publicacionesNoAdoptados}"
                                      th:id="${publicacion.getId()}">
                                        <div>
                                            <div class="card card-publicacion" th:id="${publicacion.getId()}">
                                                    <img class="foto_publicacion"
                                                         th:alt="${session.protectora.logotipo_protectora}"
                                                         th:src="@{'/uploads/publicaciones/' + ${session.protectora.CIF} + '/' + ${publicacion.getFoto()}}">
                                                <div class="row nombre">
                                                    <h3 class="col-12" th:text="${publicacion.animal.getNombre()}"></h3>
                                                </div>
                                            </div>
                                        </div>
                                    </span>
                            </div>
                        </div>

                        <input id="tabtwo" name="tabs" type="radio">
                        <label class="tabalign" for="tabtwo">Con sus familias</label>
                        <div class="tab">
                            <div class="row row_foreach">
                                <span class="col-12" th:each="publicacion:${session.publicacionesAdoptados}">
                                        <div hidden th:class="${publicacion.getId()}">
                                            <div class="card card-publicacion-col12">
                                                <span class="row">
                                                        <div class="col-5">
                                                            <img class="foto_publicacion-col-12"
                                                                 th:alt="${session.protectora.logotipo_protectora}"
                                                                 th:src="@{'/uploads/publicaciones/' + ${session.protectora.CIF} + '/' + ${publicacion.getFoto()}}">
                                                        </div>
                                                        <div class="col-7">
                                                            <h3 class="nombre-col12"
                                                                th:text="${publicacion.animal.getNombre()} + ' con ' + ${publicacion.animal.adoptante.nombre}"></h3>
                                                            <a href="#">
                                                                <img class="foto_perfil-publicacion"
                                                                     th:alt="${session.protectora.logotipo_protectora}"
                                                                     th:src="@{'/uploads/protectora/' + ${session.protectora.CIF} + '/' + ${session.protectora.logotipo_protectora}}">
                                                            </a>
                                                            <hr class="hr">
                                                            <p class="pieDeFoto_col12"
                                                               th:text="${publicacion.getPie_foto()}"></p>

                                                            <a th:href="@{/publicacion/like/{id}(id=${publicacion.id})}"><i
                                                                    class="bi bi-heart bi-heartt"
                                                                    data-status=""></i></a>
                                                        </div>
                                                </span>
                                            </div>
                                        </div>
                                    </span>


                                <span class="col-4" th:each="publicacion:${session.publicacionesAdoptados}"
                                      th:id="${publicacion.getId()}">
                                        <div>
                                            <div class="card card-publicacion" th:id="${publicacion.getId()}">
                                                    <img class="foto_publicacion"
                                                         th:alt="${session.protectora.logotipo_protectora}"
                                                         th:src="@{'/uploads/publicaciones/' + ${session.protectora.CIF} + '/' + ${publicacion.getFoto()}}">
                                                <div class="row nombre">
                                                    <h3 class="col-12" th:text="${publicacion.animal.getNombre()}"></h3>
                                                </div>
                                            </div>
                                        </div>
                                    </span>

                            </div>
                        </div>
                    </div>
                    </div>
                </div>
                <div class="col-3">
                        <span class="card info">
                            <h3 class="informacion">Informacion</h3>
                            <p class="info_text"
                               th:text="${session.protectora.getNombre_personaContacto() + ' ' + session.protectora.getApellidos_personaContacto()}"></p>
                            <p class="info_text" th:text="${session.protectora.getDomicilio_social()}"></p>
                            <a th:href="'mailto:' + ${session.protectora.getEmail() + '?subject=CatsAndDogsShelter'}"><p
                                    class="info_text" th:text="${session.protectora.getEmail()}"></p></a>
                        </span>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous"
        integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30="
        src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="/js/navbar.js" th:src="@{/js/navbar.js}"></script>
<script src="/js/buscarProtectora.js" th:src="@{/js/buscarProtectora.js}"></script>
<script src="/js/publicacion.js" th:src="@{/js/publicacion.js}"></script>

</html>